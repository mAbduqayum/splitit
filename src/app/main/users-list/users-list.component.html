<section class="users-list">
  <h2>Users List</h2>
  @if (users().length === 0) {
    <p class="no-users">No users yet. Add your first user above!</p>
  } @else {
    <ul>
      @for (user of users(); track user.id) {
        <li>
          @if (editingUserId() === user.id) {
            <input 
              type="text" 
              [(ngModel)]="editingUserName"
              (ngModelChange)="updateUser(user.id)"
              (blur)="stopEdit()"
              (keyup.escape)="stopEdit()"
              (keyup.enter)="stopEdit()"
              class="edit-input"
              placeholder="Enter new name"
            />
          } @else {
            <span class="user-name" (dblclick)="startEdit(user.id, user.name)">{{ user.name }}</span>
          }
          <div class="user-actions">
            <button 
              appBtn="info"
              (click)="startEdit(user.id, user.name)"
            >
              Edit
            </button>
            <button 
              appBtn="danger"
              (click)="onRemoveUser(user.id)"
            >
              Delete
            </button>
          </div>
        </li>
      }
    </ul>
  }
</section>